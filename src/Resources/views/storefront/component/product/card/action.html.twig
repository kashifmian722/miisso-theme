{% sw_extends '@Storefront/storefront/component/product/card/action.html.twig' %}

{% block component_product_box_action_form %}



    {% block component_product_box_action_buy_redirect_input %}
        {# fallback redirect back to detail page is deactivated via js #}
        <input type="hidden"
               name="redirectTo"
               value="frontend.detail.page">

        <input type="hidden"
               name="redirectParameters"
               data-redirect-parameters="true"
               value='{"productId": "{{ product.id }}"}'>
    {% endblock %}

    {% block page_product_detail_buy_product_buy_info %}
        <input type="hidden"
               name="lineItems[{{ id }}][id]"
               value="{{ id }}">
        <input type="hidden"
               name="lineItems[{{ id }}][referencedId]"
               value="{{ id }}">
        <input type="hidden"
               name="lineItems[{{ id }}][type]"
               value="product">
        <input type="hidden"
               name="lineItems[{{ id }}][stackable]"
               value="1">
        <input type="hidden"
               name="lineItems[{{ id }}][removable]"
               value="1">
        <input type="hidden"
               name="lineItems[{{ id }}][quantity]"
               value="1">
    {% endblock %}

    {#    why has this f... thing no twig block? #}

    <button class="btn btn-block btn-buy"
            title="{{ "listing.boxAddProduct"|trans|striptags }}">
        {% sw_icon 'cart' %}
    </button>
{% endblock %}


{% block component_product_box_action_detail %}
    <a href="{{ seoUrl('frontend.detail.page', {'productId': id}) }}"
       class="btn btn-block btn-buy btn-see-detail"
       title="{{ "listing.boxProductDetails"|trans|striptags }}">
        {% sw_icon 'arrow-medium-right' %}
    </a>
{% endblock %}